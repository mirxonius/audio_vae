# configs/model/vae.yaml
_target_: src.model.VAELightningModule.VAELightningModule

defaults:
  - architecture: architecture.yaml
  - loss_calculator: vae_loss_stft_mel.yaml
  - optimizer: optimizer.yaml
  - scheduler: scheduler.yaml
  - discriminator: discriminator.yaml
  - adversarial_loss_calculator: adversarial_loss.yaml

scheduler_interval: step
scheduler_frequency: 1

# Logging
log_audio_every_n_epochs: 5
sample_rate: ${datamodule.sample_rate}
num_audio_samples: 2

# Adversarial training
use_adversarial: true
discriminator_lr: 1e-4
discriminator_update_every: 1
generator_update_every: 1

# Encoder freezing for decoder finetuning
# Set one of these to enable encoder freezing after the specified threshold
# When frozen, only the decoder is trained with reconstruction + adversarial loss
freeze_encoder_after_steps: null   # Freeze encoder after N training steps (null = disabled)
freeze_encoder_after_epochs: null  # Freeze encoder after N epochs (null = disabled)

# Legacy parameters (deprecated - use adversarial_loss_calculator config instead)
# These are kept for backward compatibility but will show deprecation warning
# adversarial_warmup_steps: 0
# adversarial_weight: 0.1
# feature_matching_weight: 10.0
