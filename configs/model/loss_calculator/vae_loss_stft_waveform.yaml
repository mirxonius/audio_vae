_target_: src.loss_fn.VAELossCalculator.VAELossCalculator

# --- VAE regularization ---
kl_weight: 1.0e-4
kl_warmup_steps: 5000
free_bits: 0.0

# --- Spectral loss ---
stft_loss:
  _target_: src.loss_fn.MultiResolutionSTFTLoss.SumAndDifferenceSTFTLoss
  fft_sizes: [2048, 1024, 512, 256, 128, 64, 32]
  hop_sizes: [512, 256, 128, 64, 32, 16, 8]
  win_lengths: [2048, 1024, 512, 256, 128, 64, 32]
  w_sc: 0.0
  w_log_mag: 1.0
  w_lin_mag: 1.0
  perceptual_weighting: true
  sample_rate: ${datamodule.sample_rate}

# --- Time-domain constraint ---
waveform_loss:
  _target_: src.loss_fn.WaveformLoss.WaveformLoss
  weight: 0.1   # ðŸ‘ˆ IMPORTANT: keep this small
  name: waveform_loss

mel_loss: null
si_sdr_loss: null
